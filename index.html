<!-- <!DOCTYPE html> -->
<html lang="vi">
    <head>
        <title>Sinh nhật Lupu Coffee</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Lupu Coffee, cà phê ngon, phin sữa, trà mật rừng, giao tận nơi">
    </head>
    <body>
        <div class="app-container">
            <div class="game-logo" id="game-logo"></div>
            <div class="game-board" id="game-board">
                <div class="loading-bar show" id="loading-bar">
                    <div class="wrapper">
                        <div class="progress-bar" id="progress-bar"></div>
                    </div>
                </div>
                <div class="board-shadow" id="game-board-shadow"></div>
                <div class="board" id="board">
                </div>
                <div id="confirm-select-popup" class="popup">
                    <div class="wrapper">
                        <div class="selected-block" id="selected-block"></div>
                        <div class="content" id="content">Bạn có chắc chắn muốn mở viên kẹo này chứ? Bạn sẽ không thể hồi lại đâu nhé.</div>
                        <div id="cancel-button" class="popup-button" onclick="hidePopup()"></div>
                        <div id="confirm-button" class="popup-button" onclick="userConfirm()"></div>
                    </div>
                </div>
            </div>
            <div class="guide-text" id="guide-text">
                Ẩn dưới những viên kẹo này là <span>100k</span> <br>
                Nhấn vào một viên bất kì để mở
            </div>
            <div class="play-times-indicator">
                <div class="wrapper">
                    Bạn hiện có <span class="play-times" id="play-times"></span> lượt
                </div>
            </div>
        </div>
       <!-- <div class="order-button" id="order-button" onClick="redirectToFacebook()">Thêm lượt</div> -->
        <style>

            @keyframes rotate {
                0%{ transform: rotate(0deg);}
                50%{ transform: rotate(180deg);}
                100%{ transform: rotate(360deg);}
            }

            @-webkit-keyframes rotate {
                0%{ -webkit-transform: rotate(0deg);}
                50%{ -webkit-transform: rotate(180deg);}
                100%{ -webkit-transform: rotate(360deg);}
            }

            @keyframes shake {
                0%{
                    transform: rotate(-5deg);
                }
                25%{
                    transform: rotate(5deg);
                }
                50%{
                    transform: rotate(-5deg);
                }
                75%{
                    transform: rotate(5deg);
                }
                100%{
                    transform: rotate(-5deg);
                }
            }

            @keyframes popOut{
                0%{
                    transform: scale(1);
                }

                20%{
                    transform: scale(1.2);
                }

                90%{
                    opacity: 0.5;
                }

                100%{
                    opacity: 0;
                    transform: scale(0);
                }

            }

            @-webkit-keyframes shake {
                0%{
                    -webkit-transform: rotate(-5deg);
                }
                25%{
                    -webkit-transform: rotate(5deg);
                }
                50%{
                    -webkit-transform: rotate(-5deg);
                }
                75%{
                    -webkit-transform: rotate(5deg);
                }
                100%{
                    -webkit-transform: rotate(-5deg);
                }
            }

            @-webkit-keyframes popOut{
                0%{
                    transform: scale(1);
                }

                20%{
                    transform: scale(1.2);
                }

                90%{
                    opacity: 0.5;
                }

                100%{
                    opacity: 0;
                    -webkit-transform: scale(0);
                }

            }

            @font-face {
                font-family: anton;
                src: url(src/fonts/Anton-Regular.ttf);
            }

            body{
                background: #FF7600;
                background-image: url('src/images/optimized/background.png');
                background-position: bottom;
                background-size: contain;
                background-repeat: no-repeat;
                font-family: anton;
                position: relative;
            }

            .app-container{
                align-items: center;
                height: 100%;
                display: flex;
                flex-direction: column;
                justify-content: center;
                position: relative;
                width: 100%;
            }

            .game-logo{
                background-image: url('src/images/optimized/tinified/game-logo.png');
                background-size: cover;
                background-position: center;
                height: 100px;
                margin: 0 auto;
                /* margin-top: 20%; */
                width: 60%;
            }

            .guide-text{
                /* background-image: url('src/images/optimized/guide-text.png');
                background-size: cover;
                background-position: center; */
                color: #772c00;
                font-size: 4vw;
                margin: 5vw auto;
                position: relative;
                text-align: center;
                vertical-align: middle;
                width: 65%;
            }

            .guide-text > span{
                color:#FF7600;
            }

            .game-board{
                position: relative;
            }

            .board{
                box-sizing: border-box;
                background-image: url('src/images/optimized/tinified/board.png');
                background-size: cover;
                display: flex;
                flex-direction: column;
                margin: 0 auto;
                opacity: 0;
                padding: 4.5%;
                transition: opacity 0.2s ease-in-out;
                width: 100%;
            }

            .board.show{
               opacity: 1;
               transition: opacity 0.2s ease-in-out;
            }

            .row{
                display: flex;
                flex: 1;
                width: 100%;
            }

            .board-shadow{
                box-shadow: 0px 6px 12px rgba(0, 0, 0, 0.6);
                height: 100%;
                left: 50%;
                opacity: 0;
                position: absolute;
                transform: translate(-50%, -50%);
                transition: opacity 0.2s ease-in-out;
                top: 50%;
                width: 100%;
                z-index: -10;
            }

            .board-shadow.show{
                opacity: 1;
                transition: opacity 0.2s ease-in-out;
            }

            .block-wrapper{
                align-items: center;
                display: flex;
                justify-content: center;
                position: relative;
            }

            .block-wrapper > img {
                width: 100%;
            }
            
            .block{
                align-items: center;
                display: flex;
                height: 100%;
                justify-content: center;
                position: relative;
                transform: scale(0);
                transition: transform 0.2s ease-in-out;
                width: 100%;
            }

            .block.selected{
                animation:  shake 0.5s ease-in-out infinite !important;
                -webkit-animation:  shake 0.5s ease-in-out infinite !important;
            }

            .block.hide{
                animation:  popOut 0.5s ease-in-out !important;
                -webkit-animation:  popOut 0.5s ease-in-out !important;
            }

            .row:nth-child(1) > .block-wrapper:nth-child(1)  .block.show{
                transform: scale(1);
                transition: transform 0.2s ease-in-out;
            }

            .row:nth-child(1) > .block-wrapper:nth-child(1)  .block.shake{
                animation:  shake 0.5s ease-in-out 0.2s;
                -webkit-animation:  shake 0.5s ease-in-out 0.2s;
            }

            .row:nth-child(1) > .block-wrapper:nth-child(2)  .block.show{
                transform: scale(1);
                transition: transform 0.2s 0.1s ease-in-out;
            }

            .row:nth-child(1)  > .block-wrapper:nth-child(2) .block.shake{
                animation:  shake 0.5s ease-in-out 0.3s;
                -webkit-animation:  shake 0.5s ease-in-out 0.3s;
            }

            .row:nth-child(1) > .block-wrapper:nth-child(3)  .block.show{
                transform: scale(1);
                transition: transform 0.2s 0.2s ease-in-out;
            }

            .row:nth-child(1) > .block-wrapper:nth-child(3)  .block.shake{
                animation:  shake 0.5s ease-in-out 0.4s;
                -webkit-animation:  shake 0.5s ease-in-out 0.4s;
            }

            .row:nth-child(2) > .block-wrapper:nth-child(1)  .block.show{
                transform: scale(1);
                transition: transform 0.2s 0.3s ease-in-out;
            }

            .row:nth-child(2) > .block-wrapper:nth-child(1)  .block.shake{
                animation:  shake 0.5s ease-in-out 0.5s;
                -webkit-animation:  shake 0.5s ease-in-out 0.5s;
            }

            .row:nth-child(2) > .block-wrapper:nth-child(2)  .block.show{
                transform: scale(1);
                transition: transform 0.2s 0.4s ease-in-out;
            }

            .row:nth-child(2) > .block-wrapper:nth-child(2)  .block.shake{
                animation:  shake 0.5s ease-in-out 0.6s;
                -webkit-animation:  shake 0.5s ease-in-out 0.6s;
            }

            .row:nth-child(2) > .block-wrapper:nth-child(3)  .block.show{
                transform: scale(1);
                transition: transform 0.2s 0.5s ease-in-out;
            }

            .row:nth-child(2) > .block-wrapper:nth-child(3)  .block.shake{
                animation:  shake 0.5s ease-in-out 0.7s;
                -webkit-animation:  shake 0.5s ease-in-out 0.7s;
            }

            .row:nth-child(3)  > .block-wrapper:nth-child(1)  .block.show{
                transform: scale(1);
                transition: transform 0.2s 0.6s ease-in-out;
            }

            .row:nth-child(3)  > .block-wrapper:nth-child(1)  .block.shake{
                animation:  shake 0.5s ease-in-out 0.8s;
                -webkit-animation:  shake 0.5s ease-in-out 0.8s;
            }

            .row:nth-child(3)  > .block-wrapper:nth-child(2)  .block.show{
                transform: scale(1);
                transition: transform 0.2s 0.7s ease-in-out;
                /* animation:  shake 0.5s ease-in-out 0.9s;
                -webkit-animation:  shake 0.5s ease-in-out 0.9s; */
            }

            .row:nth-child(3)  > .block-wrapper:nth-child(2)  .block.shake{
                animation:  shake 0.5s ease-in-out 0.9s;
                -webkit-animation:  shake 0.5s ease-in-out 0.9s;
            }

            .row:nth-child(3)  > .block-wrapper:nth-child(3)  .block.show{
                transform: scale(1);
                transition: transform 0.2s 0.8s ease-in-out;
            }

            .row:nth-child(3)  > .block-wrapper:nth-child(3)  .block.shake{
                animation:  shake 0.5s ease-in-out 1s;
                -webkit-animation:  shake 0.5s ease-in-out 1s;
            }

            #_selectedBlock > img{
                height: 100% !important;
                width: 100% !important;
            }

            .block > img{
                height: 95%;
                width: 100%;
            }

            .block-wrapper > img{
                height: 95%;
                transform: scale(0);
                transition: transform 0.2s ease-in-out;
                width: 100%;
            }

            .block-wrapper > img.show{
                transform: scale(1);
                transition: transform 0.2s ease-in-out;
            }

            .block > img:nth-child(2), .block-wrapper > img{
                position: absolute;
            }

            .block.normal > img:nth-child(2){
                position: absolute;
                display: none;
            }

            .glow-effect{
                animation:  rotate 5s linear infinite;
                -webkit-animation:  rotate 5s linear infinite;
                background-image: url('src/images/optimized/tinified/glow-effect.png');
                background-size: cover;
                height: 100%;
                opacity: 0;
                position: absolute;
                width: 100%;
                z-index: -1;
            }

            .glow-effect.show{
                opacity: 1;
            }

            .popup{
                border-radius: 5%;
                background: rgba(0,0,0,0);
                background-image: url('src/images/optimized/tinified/popup-base.png');
                background-size: cover;
                left:  50%;
                position: absolute;
                top: 50%;
                transform: translate(-50%,-50%) scale(0);
                transition: background 0.2s ease-in-out, transform 0.2s ease-in-out;
            }

            .popup.show{
                background: rgba(68, 24, 4, 0.7);
                background-image: url('src/images/optimized/tinified/popup-base.png');
                background-size: cover;
                transform: translate(-50%,-50%) scale(1);
                transition: background 0.5s ease-in-out, transform 0.2s ease-in-out; 
            }

            .wrapper{
                height: 100%;
                position: relative;
                width: 100%;
            }

            .popup-button{
                position: absolute;
                bottom: 10%;
            }

            #cancel-button{
                background-image: url('src/images/optimized/tinified/cancel-button.png');
                background-size: cover;
                left: 10%;
            }
            #confirm-button{
                background-image: url('src/images/optimized/tinified/confirm-button.png');
                background-size: cover;
                right: 10%;
            }

            .content{
                position: absolute;
            }

            #content{
                color: white;
                font-size: 4.5vw;
                bottom: 22%;
                left: 18%;
                
            }

            #loading-bar{
                background-image: url('src/images/optimized/tinified/loading-bar.png');
                background-size: cover;
                left: 50%;
                opacity: 0;
                position: absolute;
                top: 50%;
                transform: translate(-50%,-50%);
                transition: opacity 0.2s ease-in-out;
                z-index: -10;
            }

            #loading-bar.show{
                opacity: 1;
                transition: opacity 0.2s ease-in-out;
                z-index: 10;
            }

            #progress-bar{
                background-image: url('src/images/optimized/tinified/progress-bar.png');
                background-size: cover;
                left: 8%;
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                z-index: 10;
            }

            .play-times-indicator{
                background: rgba(255,233,188,1);
                border-radius: 3vw;
                color: #772c00;
                font-size: 4vw;
                height: 10vw;
                line-height:  10vw;
                margin: 0 auto;
                position: relative;
                text-align: center;
                width: 40%;
            }

            .play-times{
                color:#FF7600;
            }

            .order-button{
                border: 2px solid white;
                border-radius: 100px;
                background: rgb(241,105,1);
                background: linear-gradient(0deg, rgba(241,105,1,1) 0%, rgba(246,166,5,1) 100%);
                color: white;
                font-family:  anton;
                margin: 5% auto;
                text-align: center;
            }

            .selected-block{
                left: 50%;
                position: absolute;
                transform: translateX(-50%);
                top: 3.7%;
            }

        </style>
        <script src="src/js/code.js"></script>
    </body>
</html>